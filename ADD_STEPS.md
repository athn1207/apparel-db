# 商品を追加する手順（わかりやすく）

商品の追加方法は **2通り** あります。スクショがあるときは **方法A**、手で1件ずつ入れたいときは **方法B** です。

---

## 方法A: スクリーンショットから追加する（おすすめ）

メルカリのスクショがあれば、スクリプトがブランド・商品名を読み取り、画像をまとめてくれます。

### 手順

| 順番 | やること |
|------|----------|
| **1** | **screenshots_input** フォルダに、追加したい商品のスクショを入れる。<br>・タイトルが写っているスクショ<br>・下にスクロールして「項目：ブランド」が写っているスクショ |
| **2** | ターミナルで、次の**2つを1行ずつ**実行する（まとめて貼り付けず、1行目を実行してから2行目を実行する）。<br><br>1行目:<br>`cd "c:\Users\akiko\OneDrive\デスクトップ\apparel-db"`<br><br>2行目:<br>`python scripts/process_screenshots.py` |
| **3** | 処理が終わったら **suggested_products.json** を開き、商品名・ブランドが正しいか確認する。必要ならここで修正する。 |
| **4** | **data/data.json** を開く。**最後の商品の `}` の直後**に **半角カンマ `,`** を打ち、その次に **suggested_products.json の中身**（`[` と `]` の間のブロック）をコピーして貼り付ける。複数商品がある場合は、ブロックとブロックの間を **半角カンマ** で区切る。最後は `]` で閉じ、カンマの付け忘れ・余分なカンマがないか確認する。 |
| **5** | ターミナルで、次の**3つを1行ずつ**実行してサイトを更新する（下のコマンドを**1行ずつ**コピーして実行。まとめて貼り付けない）。 |

**手順5のコマンド（1行ずつ実行）：**
```
git add .
git commit -m "商品を追加"
git push
```

### ポイント

- **suggested_products.json** はスクリプトを実行するたびに**上書き**されます。前の結果を残したい場合は、data.json にコピーする前に別名で保存しておく。
- サイトに表示されるのは **data.json** の内容だけ。suggested_products.json を直しても、**data.json にコピーしないと反映されません**。

---

## 方法B: 手動で1件ずつ追加する

スクショを使わず、自分で商品名・ブランド・画像を書くときの手順です。

### 手順

| 順番 | やること |
|------|----------|
| **1** | **data/data.json** を開く。 |
| **2** | **最後の商品の `}` の直後**に、**半角カンマ `,`** を打つ。 |
| **3** | 次の形で新しい1件を書き足す（id は他と重複しないようにする）。<br><br>`{`<br>`  "id": "ブランド-連番",`<br>`  "brand": "ブランド名",`<br>`  "product_name": "商品名",`<br>`  "price": 0,`<br>`  "images": [],`<br>`  "screenshot_count": 0,`<br>`  "created_at": "2026-02-21"`<br>`}` |
| **4** | 画像を使う場合は、画像ファイルを **images** フォルダに入れ、上の `"images": []` を<br>`"images": ["images/ファイル名.png"]`<br>のように書く（複数枚はカンマで区切る）。**カンマ・引用符はすべて半角**にする。 |
| **5** | ファイルを保存し、配列の終わりが `]` で閉じているか確認する。 |
| **6** | サイトを更新する場合、次のコマンドを**1行ずつ**実行する。 |

**手順6のコマンド（1行ずつ実行）：**
```
git add data/data.json
git commit -m "商品を1件追加"
git push
```

### 注意

- **id** は全商品でひとつずつ違う値にする（例: `nike-002`, `auralee-002`）。
- カンマや `"` を **全角** にすると読み込みエラーになるので、**半角** で書く。

---

## 共通: 追加後の確認

- **ローカル**: ブラウザでサイトを開き、**Ctrl + Shift + R** で再読み込みする。
- **GitHub Pages**: プッシュ後 1〜2分待ち、**https://athn1207.github.io/apparel-db/** を開いて表示を確認する。

---

## まとめ

| やり方 | いつ使うか | どこをいじるか |
|--------|------------|----------------|
| **方法A** | メルカリのスクショがあるとき | screenshots_input → スクリプト実行 → suggested_products.json を確認・修正 → **data.json にコピー** |
| **方法B** | スクショなしで1件ずつ入れたいとき | **data.json** に直接、新しい商品ブロックを追記 |

**サイトに反映されるのは、必ず data/data.json の内容だけ**です。追加したら、ここに新しい商品が入っているか確認してください。
